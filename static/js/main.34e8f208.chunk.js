(this["webpackJsonprento-blog"]=this["webpackJsonprento-blog"]||[]).push([[0],{10:function(e,t,c){e.exports={Cards:"Posts_Cards__2OwCg",Pagination:"Posts_Pagination__f0GPx",nav:"Posts_nav__1KxS1",card:"Posts_card__9L0xo"}},15:function(e,t,c){e.exports={TableContainer:"HomePage_TableContainer__1Gyat",mainContainer:"HomePage_mainContainer__1ofXL",filterBox:"HomePage_filterBox__2LxR3"}},38:function(e,t,c){},39:function(e,t,c){},65:function(e,t,c){e.exports={Card:"Card_Card__1nf1I"}},66:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(30),i=c.n(a),o=c(7),r=(c(38),c(2)),l=(c(39),c(9)),d=c(11),j=c.n(d),u=c(15),h=c.n(u),b=(c(58),c(0));var m=function(){Object(r.g)();var e=s.a.useState([]),t=Object(l.a)(e,2),c=t[0],n=t[1],a=s.a.useState([]),i=Object(l.a)(a,2),d=i[0],u=i[1],m=s.a.useState(""),p=Object(l.a)(m,2),O=p[0],f=p[1];return console.log("search query is "+O),s.a.useEffect((function(){j.a.get("https://jsonplaceholder.typicode.com/users").then((function(e){u(e.data),n(e.data)}))}),[]),s.a.useEffect((function(){!function(e){if(console.log("in filterSearch"),console.log("with search value as "+O),""!=e){var t=c.filter((function(t){if(t.name.includes(e)||t.company.name.includes(e))return t}));console.log(t),u(t)}else u(c)}(O)}),[O]),Object(b.jsxs)("div",{className:h.a.mainContainer,children:[Object(b.jsxs)("div",{className:h.a.filterBox,children:[Object(b.jsxs)("div",{children:["Search by Company Name/User Name ",Object(b.jsx)("input",{placeholder:"filter",type:"text",onChange:function(e){return f(e.target.value)}})," "]})," "]}),Object(b.jsx)("div",{className:h.a.TableContainer,children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Company Name"}),Object(b.jsx)("th",{children:"Blog Posts"})]})}),Object(b.jsx)("tbody",{children:d.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.company.name}),Object(b.jsx)("td",{children:Object(b.jsxs)(o.b,{to:{pathname:"/Posts",search:"?userId=".concat(e.id,"&skip=0&limit=10")},children:[e.name,"/Posts"]})})]},e.id)}))})]})})]})},p=c(33);c(65);var O=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:e.data.title}),Object(b.jsx)("p",{children:e.data.body})]})};var f=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:"Coments:"}),e.comments.map((function(e){return Object(b.jsx)("div",{children:e.body},e.id)}))]})},g=c(10),x=c.n(g);var A=function(){var e=Object(r.g)(),t=Object(r.f)(),c=s.a.useState({userId:0,skip:0,limit:0,postId:0}),n=Object(l.a)(c,2),a=n[0],i=n[1],d=s.a.useState([]),u=Object(l.a)(d,2),h=u[0],m=u[1],g=s.a.useState([]),A=Object(l.a)(g,2),v=A[0],C=A[1],k=s.a.useState([]),P=Object(l.a)(k,2),I=P[0],y=P[1],N=Object(r.h)(),S=N.id;N.comment,console.log(e);var B=a.userId,_=a.skip,E=a.limit,J=a.postId;function L(){j.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(B,"&skip=").concat(_,"&limit=").concat(E)).then((function(e){console.log(e),m(e.data),C(e.data),console.log("skip is changed to ",_),t.replace({pathname:"/Posts",search:"?userId=".concat(B,"&skip=").concat(_,"&limit=").concat(E),state:{isActive:!0}}),console.log(t)})).catch((function(e){console.log(e)}))}s.a.useEffect((function(){console.log("mounting useEffect of posts and id in params is ",S);var t,c=new URLSearchParams(e.search),n=0,s=0,a=0,o=Object(p.a)(c);try{for(o.s();!(t=o.n()).done;){var r=t.value;console.log(r),"userId"==r[0]?n=r[1]:"skip"==r[0]?s=r[1]:"limit"==r[0]&&(a=r[1]),console.log("in loop")}}catch(l){o.e(l)}finally{o.f()}i(S?{userId:n,skip:s,limit:a,postId:S}:{userId:n,skip:s,limit:a,postId:J})}),[S]),s.a.useEffect((function(){0!=E?(console.log("limit is non-zero"),L()):(console.log("in else"),S&&(console.log("param id is ",S),j.a.get("https://jsonplaceholder.typicode.com/posts/".concat(S)).then((function(e){console.log(e.data),C(e.data)})).catch((function(e){return console.log(e)}))))}),[B,_,E]);var w=function(){j.a.get("https://jsonplaceholder.typicode.com/posts/".concat(S,"/comments")).then((function(e){console.log(e),y(e.data)})).catch((function(e){return console.log(e)}))},U=function(e,t){j.a.delete("https://jsonplaceholder.typicode.com/posts/".concat(J,"/")).then((function(c){console.log(c),i({userId:t,skip:0,limit:10,postId:e}),L()})).catch((function(e){return console.log(e)}))},F=null;return F=v.length?v.map((function(e){return S?Object(b.jsxs)("div",{className:x.a.card,children:[Object(b.jsx)(O,{data:e}),Object(b.jsx)("button",{onClick:function(t){return U(t,e.userId)},children:"Delete Post"}),0==I.length?Object(b.jsx)("div",{onClick:w,children:Object(b.jsx)("b",{children:"Fetch Comments:"})}):Object(b.jsx)(f,{comments:I,postId:S})]},e.id):Object(b.jsx)("div",{className:x.a.card,children:Object(b.jsx)(o.b,{className:x.a.nav,to:{pathname:"/Posts/".concat(e.id)},children:Object(b.jsx)(O,{data:e})})},e.id)})):S?Object(b.jsxs)("div",{className:x.a.card,children:[Object(b.jsx)(O,{data:v},v.id)," ",Object(b.jsx)("button",{onClick:function(e){return U(e,v.userId)},children:"Delete Post"}),0==I.length?Object(b.jsx)("div",{onClick:w,children:Object(b.jsx)("b",{children:"Fetch Comments:"})}):Object(b.jsx)(f,{comments:I,postId:S})]}):Object(b.jsx)("div",{className:x.a.card,children:Object(b.jsx)(o.b,{className:x.a.nav,to:{pathname:"/Posts/".concat(v.id)},children:Object(b.jsx)(O,{data:v})},v.id)}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:x.a.Pagination,children:[Object(b.jsxs)("div",{children:[" Search by Post Title ",S?"And Body":"",": ",Object(b.jsx)("input",{type:"text",onChange:function(e){return function(e){var t,c=e.target.value;t=S?h.filter((function(e){if(e.title.includes(c)||e.body.includes(c))return e})):h.filter((function(e){if(e.title.includes(c))return e})),C(t)}(e)}})]}),S?"":Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAuklEQVRIie3VsQ3CMBCF4V9QQcMEGYGeMWABZmEM2IA1CEWqrMAGlHRIocHoFF8gZzm2kPxJJ6V4eoUV+6AoClgDLXCdKK/aAw+ge0/svGcFnEXBryJrXrUBbkrJUJE175kDB+A5UNIvsuZVFVB/KegXWfOqHXAfUdIF5j1L4DSywI01r2qMJSHzMRPfQfcshgVwJMNRO1sS/1xSBVwMRVGuk5PlAZGSP5lSliUhJV+Lklvs9UT5ovhTL8w18VO1JlgoAAAAAElFTkSuQmCC",onClick:function(){_>0&&i({userId:B,skip:+(_-1),limit:E})}}),Object(b.jsxs)("b",{children:["Page:",_]}),Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAwUlEQVRIie3VsW0CMRiG4QckCtKyQfqsQMkMZApmoUu2yA4RCCSYIk3KpKIipsFNJO7OPt8Vp/ukr/Irv9Iv2T9jxgw9O5zx0hH/MOHeCzaYFOZrL4r9wKIg3/iigG+sCvFJ4oA/bDFrySeLY494bsFniwN+8ZrJtxLHvmfwTyXEOd1H0bRuBIUTqg66GvUb5m3EP1hn8pWjqOpB2nP6zyeLr9I+kEd8kvgLy0J8Y3HvS6L3tfiJk+aLPZUfM2bAuQEkB/LK6C2gmAAAAABJRU5ErkJggg==",onClick:function(e){return i({userId:B,skip:+(_+1),limit:E})}})]})]}),Object(b.jsx)("div",{className:x.a.Cards,children:F})]})};var v=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)(o.b,{className:"App-link",to:"/",exact:!0,activeClassName:"active-link",children:"Home Page"}),Object(b.jsx)(o.b,{activeClassName:"active-link",className:"App-link",to:"/Posts?id=1&skip=0&limit=10",children:"Posts"})]}),Object(b.jsx)("div",{style:{marginTop:"50px"},children:Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{path:"/Posts/:id?/:comment?",children:Object(b.jsx)(A,{})}),Object(b.jsx)(r.a,{path:"/",children:Object(b.jsx)(m,{})})]})})]})},C=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,67)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(v,{})})}),document.getElementById("root")),C()}},[[66,1,2]]]);
//# sourceMappingURL=main.34e8f208.chunk.js.map